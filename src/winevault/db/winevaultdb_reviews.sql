-- MySQL dump 10.13  Distrib 5.7.17, for Win64 (x86_64)
--
-- Host: localhost    Database: winevaultdb
-- ------------------------------------------------------
-- Server version	5.7.21-log

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `reviews`
--

DROP TABLE IF EXISTS `reviews`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `reviews` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `wine_id` int(11) DEFAULT NULL,
  `user_id` int(11) DEFAULT NULL,
  `rating` int(3) NOT NULL,
  `price` double(6,2) DEFAULT NULL,
  `title` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `content` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `country` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `province` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `region` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `subregion` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `winery` varchar(200) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `vineyard` varchar(200) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `wine_id` (`wine_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `reviews_ibfk_1` FOREIGN KEY (`wine_id`) REFERENCES `wines` (`id`),
  CONSTRAINT `reviews_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=75 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `reviews`
--

LOCK TABLES `reviews` WRITE;
/*!40000 ALTER TABLE `reviews` DISABLE KEYS */;
INSERT INTO `reviews` VALUES (1,1,1,87,NULL,'Nicosia 2013 VulkÃ  Bianco  (Etna)','\"Aromas include tropical fruit, broom, brimstone and dried herb. The palate isn\'t overly expressive, offering unripened apple, citrus and dried sage alongside brisk acidity.\"','Italy','Sicily & Sardinia','Etna',NULL,'Nicosia','VulkÃ  Bianco'),(2,2,2,87,15.00,'Quinta dos Avidagos 2011 Avidagos Red (Douro)','\"This is ripe and fruity, a wine that is smooth while still structured. Firm tannins are filled out with juicy red berry fruits and freshened with acidity. It\'s  already drinkable, although it will certainly be better from 2016.\"','Portugal','Douro',NULL,NULL,'Quinta dos Avidagos','Avidagos'),(3,3,3,87,14.00,'Rainstorm 2013 Pinot Gris (Willamette Valley)','\"Tart and snappy, the flavors of lime flesh and rind dominate. Some green pineapple pokes through, with crisp acidity underscoring the flavors. The wine was all stainless-steel fermented.\"','US','Oregon','Willamette Valley','Willamette Valley','Rainstorm',NULL),(4,4,3,87,65.00,'Sweet Cheeks 2012 Vintner\'s Reserve Wild Child Block Pinot Noir (Willamette Valley)','\"Much like the regular bottling from 2012, this comes across as rather rough and tannic, with rustic, earthy, herbal characteristics. Nonetheless, if you think of it as a pleasantly unfussy country wine, it\'s a good companion to a hearty winter stew.\"','US','Oregon','Willamette Valley','Willamette Valley','Sweet Cheeks','Vintner\'s Reserve Wild Child Block'),(5,5,4,87,15.00,'Tandem 2011 Ars In Vitro Tempranillo-Merlot (Navarra)','\"Blackberry and raspberry aromas show a typical Navarran whiff of green herbs and, in this case, horseradish. In the mouth, this is fairly full bodied, with tomatoey acidity. Spicy, herbal flavors complement dark plum fruit, while the finish is fresh but grabby.\"','Spain','Northern Spain','Navarra',NULL,'Tandem','Ars In Vitro'),(6,6,1,87,16.00,'Terre di Giurfo 2013 Belsito Frappato (Vittoria)','\"Here\'s a bright, informal red that opens with aromas of candied berry, white pepper and savory herb that carry over to the palate. It\'s balanced with fresh acidity and soft tannins.\"','Italy','Sicily & Sardinia','Vittoria',NULL,'Terre di Giurfo','Belsito'),(7,7,2,87,24.00,'Trimbach 2012 Gewurztraminer (Alsace)','\"This dry and restrained wine offers spice in profusion. Balanced with acidity and a firm texture, it\'s very much for food.\"','France','Alsace','Alsace',NULL,'Trimbach',NULL),(8,3,2,87,27.00,'Jean-Baptiste Adam 2012 Les Natures Pinot Gris (Alsace)','This has great depth of flavor with its fresh apple and pear fruits and touch of spice. It\'s off dry while balanced with acidity and a crisp texture. Drink now.','France','Alsace','Alsace',NULL,'Jean-Baptiste Adam','Les Natures'),(9,8,5,87,19.00,'Kirkland Signature 2011 Mountain CuvÃ©e Cabernet Sauvignon (Napa Valley)','\"Soft, supple plum envelopes an oaky structure in this Cabernet, supported by 15% Merlot. Coffee and chocolate complete the picture, finishing strong at the end, resulting in a value-priced wine of attractive flavor and immediate accessibility.\"','US','California','Napa Valley','Napa','Kirkland Signature','Mountain CuvÃ©e'),(10,7,2,87,30.00,'Leon Beyer 2012 Gewurztraminer (Alsace)','\"This is a dry wine, very spicy, with a tight, taut texture and strongly mineral character layered with citrus as well as pepper. It\'s a food wine with its almost crisp aftertaste.\"','France','Alsace','Alsace',NULL,'Leon Beyer',NULL),(11,8,5,87,34.00,'Louis M. Martini 2012 Cabernet Sauvignon (Alexander Valley)','\"Slightly reduced, this wine offers a chalky, tannic backbone to an otherwise juicy explosion of rich black cherry, the whole accented throughout by firm oak and cigar box.\"','US','California','Alexander Valley','Sonoma','Louis M. Martini',NULL),(12,9,1,87,NULL,'Masseria Setteporte 2012 Rosso  (Etna)','\"This is dominated by oak and oak-driven aromas that include roasted coffee bean, espresso, coconut and vanilla that carry over to the palate, together with plum and chocolate. Astringent, drying tannins give it a rather abrupt finish.\"','Italy','Sicily & Sardinia','Etna',NULL,'Masseria Setteporte','Rosso'),(13,10,6,87,12.00,'Mirassou 2012 Chardonnay (Central Coast)','\"Building on 150 years and six generations of winemaking tradition, the winery trends toward a leaner style, with the classic California buttercream aroma cut by tart green apple. In this good everyday sipping wine, flavors that range from pear to barely ripe pineapple prove approachable but not distinctive.\"','US','California','Central Coast','Central Coast','Mirassou',NULL),(14,11,4,87,30.00,'Felix Lavaque 2010 Felix Malbec (Cafayate)','\"Baked plum, molasses, balsamic vinegar and cheesy oak aromas feed into a palate that\'s braced by a bolt of acidity. A compact set of saucy red-berry and plum flavors features tobacco and peppery accents, while the finish is mildly green in flavor, with respectable weight and balance.\"','Argentina','Other','Cafayate',NULL,'Felix Lavaque','Felix'),(15,11,4,87,13.00,'Gaucho Andino 2011 Winemaker Selection Malbec (Mendoza)','\"Raw black-cherry aromas are direct and simple but good. This has a juicy feel that thickens over time, with oak character and extract becoming more apparent. A flavor profile driven by dark-berry fruits and smoldering oak finishes meaty but hot.\"','Argentina','Mendoza Province','Mendoza',NULL,'Gaucho Andino','Winemaker Selection'),(16,12,4,87,28.00,'Pradorey 2010 Vendimia Seleccionada Finca Valdelayegua Single Vineyard Crianza  (Ribera del Duero)','\"Desiccated blackberry, leather, charred wood and mint aromas carry the nose on this full-bodied, tannic, heavily oaked Tinto Fino. Flavors of clove and woodspice sit on top of blackberry fruit, then hickory and other forceful oak-based aromas rise up and dominate the finish.\"','Spain','Northern Spain','Ribera del Duero',NULL,'Pradorey','Vendimia Seleccionada Finca Valdelayegua Single Vineyard Crianza'),(17,4,3,87,20.00,'Acrobat 2013 Pinot Noir (Oregon)','\"A sleek mix of tart berry, stem and herb, along with a hint of oak and chocolate, this is a fair value in a widely available, drink-now Oregon Pinot. The wine oak-aged for six months, whether in neutral or re-staved is not indicated.\"','US','Oregon','Oregon','Oregon Other','Acrobat',NULL),(18,1,1,87,19.00,'Baglio di Pianetto 2007 Ficiligno White (Sicilia)','\"Delicate aromas recall white flower and citrus. The palate offers passion fruit, lime and white peach with a hint of mineral alongside bright acidity.\"','Italy','Sicily & Sardinia','Sicilia',NULL,'Baglio di Pianetto','Ficiligno'),(19,13,6,87,22.00,'Bianchi 2011 Signature Selection Merlot (Paso Robles)','\"This wine from the Geneseo district offers aromas of sour plums and just enough cigar box to tempt the nose. The flavors are a bit flat at first, then the acidity and tension of sour cherries emerges in the midpalate, bolstered by some black licorice.\"','US','California','Paso Robles','Central Coast','Bianchi','Signature Selection'),(20,14,1,87,35.00,'CanicattÃ¬ 2009 Aynat Nero d\'Avola (Sicilia)','\"Aromas of prune, blackcurrant, toast and oak carry through to the extracted palate, along with flavors of black cherry and roasted coffee beans. Firm but drying tannins provide the framework.\"','Italy','Sicily & Sardinia','Sicilia',NULL,'CanicattÃ¬','Aynat'),(21,4,5,87,69.00,'Castello di Amorosa 2011 King Ridge Vineyard Pinot Noir (Sonoma Coast)','\"Oak and earth intermingle around robust aromas of wet forest floor in this vineyard-designated Pinot that hails from a high-elevation site. Small in production, it offers intense, full-bodied raspberry and blackberry steeped in smoky spice and smooth texture.\"','US','California','Sonoma Coast','Sonoma','Castello di Amorosa','King Ridge Vineyard'),(22,1,1,87,13.00,'Stemmari 2013 Dalila White (Terre Siciliane)','\"Pretty aromas of yellow flower and stone fruit lead the nose. The bright palate offers yellow apple, apricot, vanilla and delicate notes of lightly toasted oak alongside crisp acidity.\"','Italy','Sicily & Sardinia','Terre Siciliane',NULL,'Stemmari','Dalila'),(23,14,1,87,10.00,'Stemmari 2013 Nero d\'Avola (Terre Siciliane)','\"Aromas recall ripe dark berry, toast and a whiff of cake spice. The soft, informal palate offers sour cherry, vanilla and a hint of espresso alongside round tannins. Drink soon.\"','Italy','Sicily & Sardinia','Terre Siciliane',NULL,'Stemmari',NULL),(24,15,1,87,17.00,'Terre di Giurfo 2011 Mascaria Barricato  (Cerasuolo di Vittoria)','\"Aromas suggest mature berry, scorched earth, animal, toast and anise. The palate offers ripe black berry, oak, espresso, cocoa and vanilla alongside dusty tannins.\"','Italy','Sicily & Sardinia','Cerasuolo di Vittoria',NULL,'Terre di Giurfo','Mascaria Barricato'),(25,16,5,86,16.00,'Clarksburg Wine Company 2010 Chenin Blanc (Clarksburg)','\"Clarksburg is becoming a haven for Chenin Blanc in California. This bottling, using fruit sourced from several vineyards in the area, is balanced with just a trace of sweetness in the background (1% residual sugar). This is crisp, straightforward and blessed with notes of pear and lime. Drink it cold.\"','US','California','Clarksburg','Central Valley','Clarksburg Wine Company',NULL),(26,17,2,86,NULL,'Domaine de la Madone 2012 Nouveau  (Beaujolais-Villages)','\"Red cherry fruit comes laced with light tannins, giving this bright wine an open, juicy character.\"','France','Beaujolais','Beaujolais-Villages',NULL,'Domaine de la Madone','Nouveau'),(27,4,3,86,50.00,'Erath 2010 Hyland Pinot Noir (McMinnville)','\"As with many of the Erath 2010 vineyard designates, this is strongly herbal. The notes of leaf and herb create somewhat unripe flavor impressions, with a touch of bitterness on the finish. The fruit just passes the ripeness of sweet tomatoes.\"','US','Oregon','McMinnville','Willamette Valley','Erath','Hyland'),(28,18,4,86,15.00,'Estampa 2011 Estate Viognier-Chardonnay (Colchagua Valley)','\"White flower, lychee and apple aromas carry the mellow bouquet. The chunky-feeling palate bears powdery, sweet flavors of peach and melon, mixed with greener notes of grass and lime. The 80% Viognier component is typical of the warm climate: plump and oily, with a short finish. Chardonnay fills out the blend.\"','Chile','Colchagua Valley',NULL,NULL,'Estampa','Estate'),(29,4,3,86,22.00,'Hawkins Cellars 2009 Pinot Noir (Willamette Valley)','\"A stiff, tannic wine, this slowly opens and brings brambly berry flavors into play, along with notes of earthy herbs. There\'s a touch of bitterness to the tannins.\"','US','Oregon','Willamette Valley','Willamette Valley','Hawkins Cellars',NULL),(30,17,2,86,9.00,'Henry Fessy 2012 Nouveau  (Beaujolais)','\"This is a festive wine, with soft, ripe fruit and acidity, plus a red berry flavor.\"','France','Beaujolais','Beaujolais',NULL,'Henry Fessy','Nouveau'),(31,13,4,86,9.00,'Sundance 2011 Merlot (Maule Valley)','\"A berry aroma comes with cola and herb notes. The palate is tangy and racy, and it delivers raspberry and plum flavors, with a modest finish.\"','Chile','Maule Valley',NULL,NULL,'Sundance',NULL),(32,17,2,86,14.00,'Vignerons de Bel Air 2011 EtÃ© Indien  (Brouilly)','\"Soft and fruity, this is a generous, ripe wine that\'s full of juicy red-cherry fruits and gentle tannins. It has some richness, giving a sweet character to this open, ready-to-drink wine.\"','France','Beaujolais','Brouilly',NULL,'Vignerons de Bel Air','EtÃ© Indien'),(33,19,4,85,22.00,'Casa Silva 2008 Gran Reserva Petit Verdot (Colchagua Valley)','\"This is much different than Casa Silva\'s 2009 Petit Verdot, which was tasted in the same flight. The \'08 is more hard, spicy and tarry, with a leafy, herbal aroma, plus some grittiness. The palate feels snappy, with a can\'t-miss saltiness. The finish is long in length but short on fruit, with a raw feel.\"','Chile','Colchagua Valley',NULL,NULL,'Casa Silva','Gran Reserva'),(34,20,2,85,15.00,'ChÃ¢teau de Sours 2011 La Fleur d\'AmÃ©lie  (Bordeaux Blanc)','\"Fruity and lightly herbaceous, this has fine textured acidity along with a pink grapefruit flavor. The wine is bright and easy, and it will be ready to drink in a few months.\"','France','Bordeaux','Bordeaux Blanc',NULL,'ChÃ¢teau de Sours','La Fleur d\'AmÃ©lie'),(35,10,5,85,14.00,'Souverain 2010 Chardonnay (North Coast)','\"This is weighty, creamy and medium to full in body. It has plenty of lime and pear flavors, plus slight brown sugar and vanilla notes.\"','US','California','North Coast','North Coast','Souverain',NULL),(36,4,4,85,13.00,'Tres Palacios 2011 Reserve Pinot Noir (Maipo Valley)','\"Lightly herbal strawberry and raspberry aromas are authentic and fresh. On the palate, this is light and juicy, with snappy, lean flavors of red fruit and dry spice. The finish is dry and oaky.\"','Chile','Maipo Valley',NULL,NULL,'Tres Palacios','Reserve'),(37,11,7,86,55.00,'Mellisoni 2014 Malbec (Columbia Valley (WA))','\"Aromas of cranberry, barrel spice and herb are followed by tart cranberry flavors with grainy tannins. It falls a bit flat and the variety seems hard to discern.\"','US','Washington','Columbia Valley (WA)','Columbia Valley','Mellisoni',NULL),(38,8,5,86,100.00,'Okapi 2013 Estate Cabernet Sauvignon (Napa Valley)','\"Syrupy and dense, this wine is jammy in plum and vanilla, with indeterminate structure and plenty of oak. Ripe and full-bodied, it has accents of graphite and leather.\"','US','California','Napa Valley','Napa','Okapi','Estate'),(39,21,1,86,17.00,'Podere dal Nespoli 2015 Prugneto Sangiovese (Romagna)','This densely hued wine has aromas of black plum and vanilla that carry over to the simple palate along with a touch of cedar. Pliant tannins give it an easygoing nature. Drink soon.','Italy','Central Italy','Romagna',NULL,'Podere dal Nespoli','Prugneto'),(40,22,7,86,25.00,'Ram 2014 Alder Ridge Vineyard Cabernet Franc (Columbia Valley (WA))','\"The aromas are brooding, with notes of barrel spice and cherry. The flavors are tart and elegant in style, with lightly gritty tannins backing them up. Best suited to the dinner table.\"','US','Washington','Columbia Valley (WA)','Columbia Valley','Ram','Alder Ridge Vineyard'),(41,23,2,86,58.00,'Roland Champion NV Brut RosÃ©  (Champagne)','\"This fat, yeasty Champagne is comprised predominantly of Pinot Noir. It has ripe red berry fruit, light acidity and a soft, creamy aftertaste. It\'s ready to drink.\"','France','Champagne','Champagne',NULL,'Roland Champion','Brut RosÃ©'),(42,24,6,86,26.00,'Sevtap 2015 Golden Horn Sauvignon Blanc (Santa Ynez Valley)','\"There are intriguing touches to the nose of this bottling, with jasmine, sea salt, wet hay, quinine and rainy sidewalk. The structure on the sip is quite delicate, with golden apple and honey flavors.\"','US','California','Santa Ynez Valley','Central Coast','Sevtap','Golden Horn'),(43,10,2,86,24.00,'Simonnet-Febvre 2015  Chablis','\"From the warm 2015 vintage, this is a soft and fruity wine. It\'s open with broad white fruit flavors, the acidity lighter than usual for Chablis, giving it a particularly ripe character. Drink now.\"','France','Burgundy','Chablis',NULL,'Simonnet-Febvre',NULL),(44,10,2,86,15.00,'Vignerons des Terres SecrÃ¨tes 2015  MÃ¢con-Milly Lamartine','\"This soft, rounded wine is ripe with generous pear and melon flavors. It\'s easy and ready to drink young for its smooth, attractively ripe character.\"','France','Burgundy','MÃ¢con-Milly Lamartine',NULL,'Vignerons des Terres SecrÃ¨tes',NULL),(45,25,7,86,46.00,'Basel Cellars 2013 Inspired Red (Columbia Valley (WA))','\"A blend of Merlot and Cabernet Franc, this wine brings disjointed lightly volatile aromas of wood spice, vanilla and cherry. The plump cherry flavors are rounded out by woody barrel notes.\"','US','Washington','Columbia Valley (WA)','Columbia Valley','Basel Cellars','Inspired'),(46,15,8,86,12.00,'Cocobon 2014 Red (California)','\"Very deep in color and spicy-smoky in flavor, this full-bodied wine is packed with dark-fruit flavors like blackberry and blueberry. Aromas like grilled beef and spicy flavors like cardamom and smoke give it a bold character that\'s hard to deny.\"','US','California','California','California Other','Cocobon',NULL),(47,23,2,86,55.00,'Collet NV Brut RosÃ©  (Champagne)','\"This cooperative, based in AÃ¿, has benefited from the fine Pinot Noir in the village to produce a ripe red fruited wine. With balanced acidity and a soft aftertaste, it is ready to drink.\"','France','Champagne','Champagne',NULL,'Collet','Brut RosÃ©'),(48,10,7,86,12.00,'Drumheller 2014 Chardonnay (Columbia Valley (WA))','\"Aromas of vanilla, char and toast lead to light creamy stone fruit and canned-corn flavors. It provides appeal but the oak seems overweighted.\"','US','Washington','Columbia Valley (WA)','Columbia Valley','Drumheller',NULL),(49,8,5,86,40.00,'Eco Terreno 2013 Old Vine Cabernet Sauvignon (Alexander Valley)','\"Big oak defines this robustly dense and extracted red, swimming in vanilla and cherry flavor. Full-bodied and gravelly in texture, it\'s a rustically pleasant wine for pizza nights and crowds.\"','US','California','Alexander Valley','Sonoma','Eco Terreno','Old Vine'),(50,26,1,86,32.00,'Grifalco 2013 Daginestra  (Aglianico del Vulture)','\"Aromas of black-skinned fruit, leather, underbrush, game and a briny note all carry over to the lean, somewhat disjointed palate along with suggestions of licorice and raw red cherry. Grainy tannins leave a drying finish.\"','Italy','Southern Italy','Aglianico del Vulture',NULL,'Grifalco','Daginestra'),(51,8,5,86,75.00,'Hindsight 2013 Bella Vetta Vineyard Cabernet Sauvignon (Howell Mountain)','\"Juicy plum, raspberry and pencil lead lead the way in this vineyard designate, a site that\'s 2,000 feet high. Tobacco and cedar meet a full-bodied hit of oak and puckering tannin, the wine still youthfully wrapped in its full-bodied boldness.\"','US','California','Howell Mountain','Napa','Hindsight','Bella Vetta Vineyard'),(52,27,5,86,55.00,'Hindsight 2012 Estate Grown Petite Sirah (Calistoga)','This is the producer\'s first release of this wine. Fruity aromas of plum and tart cranberry add to its overall sense of lightness and understatement.','US','California','Calistoga','Napa','Hindsight','Estate Grown'),(53,25,5,86,75.00,'Mulvane Wine Co. 2013 The Cypher Red (Napa Valley)','\"This is made from equal parts Cabernet Franc and Merlot, with small additions of Malbec. Juicy, it reveals a raisiny quality of ripeness around integrated oak and generous tannin.\"','US','California','Napa Valley','Napa','Mulvane Wine Co.','The Cypher'),(54,10,9,86,18.00,'Yalumba 2016 Made With Organic Grapes Chardonnay (South Australia)','\"This medium-bodied Chardonnay features aromas of pineapple and roasted cashew. Similar notes of ripe pineapple and nuts mark the palate, then ease to a rather soft, easy finish. Drink now.\"','Australia','South Australia','South Australia',NULL,'Yalumba','Made With Organic Grapes'),(55,4,3,86,25.00,'Z\'IVO 2015 RosÃ© of Pinot Noir (Eola-Amity Hills)','\"Some rosÃ©s are made simply by bleeding the juice from the fermenter, to concentrate the remaining wine. Whether or not that is the case here, the wine has the simple pleasant lightly candied strawberry flavors one might expect from such a technique. It\'s fruity and undemanding. Drink up.\"','US','Oregon','Eola-Amity Hills','Willamette Valley','Z\'IVO','RosÃ© of'),(56,28,2,86,NULL,'Adega Cooperativa do Cartaxo 2014 BridÃ£o Touriga Nacional (Tejo)','\"Grown on the sandy soil of Tejo, the wine is typically soft and open. It is very accessibleâ€”with black fruits and light tannins for this grape. It is ready to drink.\"','Portugal','Tejo',NULL,NULL,'Adega Cooperativa do Cartaxo','BridÃ£o'),(57,29,4,86,12.00,'Aresti 2014 Special Release Reserva CarmenÃ¨re (Rapel Valley)','\"Caramelized oak and vanilla aromas are front and center on a barrel-heavy nose. This feels a bit choppy, with astringent tannins. Herbal salty plum flavors wear a lot of oaky makeup, while this finishes with a forced woody flavor.\"','Chile','Rapel Valley',NULL,NULL,'Aresti','Special Release Reserva'),(58,30,4,86,16.00,'Spyro 2014 AlbariÃ±o (RÃ­as Baixas)','\"Bland, mature aromas of white fruits are on the weak side for AlbariÃ±o. This feels round and oily, while briny leesy flavors lack pop and precision. A grabby aged finish is short on the free flow that this grape and region are known for. Drink immediately or wait for a newer vintage.\"','Spain','Galicia','RÃ­as Baixas',NULL,'Spyro',NULL),(59,31,2,86,11.00,'Lionel Osmin & Cie 2016 La RÃ©serve Petit Manseng (Vin de France)','\"This fruity, sweet wine is immediately attractive and ripe. With its great apricot and pineapple fruit, hints of spicy wood and balancing acidity, it\'s perfect as an apÃ©ritifâ€”light and refreshing. Drink now.\"','France','France Other','Vin de France',NULL,'Lionel Osmin & Cie','La RÃ©serve'),(60,32,9,86,20.00,'Mitolo 2016 Jester Sangiovese RosÃ© (McLaren Vale)','\"Pale copper in hue, this wine exudes passion fruit on the nose, while the palate delivers nuances of muskmelon as well. It\'s crisp, racy and medium in body, perfectly suited to summertime refreshment. Drink now.\"','Australia','South Australia','McLaren Vale',NULL,'Mitolo','Jester Sangiovese'),(61,33,5,86,24.00,'Napa Cellars 2014 Classic Zinfandel (Napa Valley)','\"A healthy addition of 13% Petite Sirah provides added weight and intensity to this wine, a soft, supple and richly conceived combination of smoky black fruit and mocha.\"','US','California','Napa Valley','Napa','Napa Cellars','Classic'),(62,30,7,86,20.00,'Palencia 2016 AlbariÃ±o (Ancient Lakes)','\"Vibrant aromas of ripe pear, white flowers and melon are followed by a just off-dry palate, with lean fruit flavors.\"','US','Washington','Ancient Lakes','Columbia Valley','Palencia',NULL),(63,13,5,86,55.00,'Passaggio 2014 Blau Vineyards Merlot (Knights Valley)','\"Softened tannins surround a light-bodied, lean and herbal approach to this vineyard-designate, dotted in black pepper, leather and baked cherry.\"','US','California','Knights Valley','Sonoma','Passaggio','Blau Vineyards'),(64,34,1,86,29.00,'Poggio Alloro 2014 Le Mandorle Riserva  (Vernaccia di San Gimignano)','\"Subdued aromas of French oak, toast and acacia waft out of the glass. The rather lean palate offers oak-driven spice, chopped herb and a hint of citrus set against racy acidity. It\'s rather shy on fruit richness.\"','Italy','Tuscany','Vernaccia di San Gimignano',NULL,'Poggio Alloro','Le Mandorle Riserva'),(65,35,1,88,19.00,'Fattoria Sardi 2015 Rosato (Toscana)','\"Made primarily from Sangiovese, with some Malvasia and other white grapes, this offers aromas of red berry and a yeasty whiff of bread dough. The bright, enjoyable palate offers ripe cherry and hint of pastry cream while a note of honeydew melon marks the close.\"','Italy','Tuscany','Toscana',NULL,'Fattoria Sardi',NULL),(66,15,5,88,23.00,'Ferrari-Carano 2014 Siena Red (Sonoma County)','\"This blend of Sangiovese, Malbec, Cabernet Sauvignon, Petite Sirah and other varieties plays well to type. It shows a wealth of ripe, dusty black fruit that\'s richly round and soft on the palate, approachable and lightly oaked.\"','US','California','Sonoma County','Sonoma','Ferrari-Carano','Siena'),(67,3,5,88,18.00,'Folie Ã  Deux 2015 Pinot Gris (Sonoma Coast)','\"This wine has a touch of perceptible sweetness on its tropical nose, yet tastes dry, showing a straightforward approach to this crisp, coastal-grown variety. Apricot, melon and guava wrap around a lightness of body and texture.\"','US','California','Sonoma Coast','Sonoma','Folie Ã  Deux',NULL),(68,36,5,88,55.00,'Franciscan 2013 Magnificat Meritage (Napa Valley)','\"All red Bordeaux varieties are represented in this blend, except for Petit Verdot. Together, they offer a simple tannic structure that strengthens a chewiness of leather, tobacco and a touch of cedar. Full bodied, it\'s a ripe, bold and brawny wine.\"','US','California','Napa Valley','Napa','Franciscan','Magnificat'),(69,37,10,88,12.00,'Fuchs 2015 GrÃ¼ner Veltliner (Burgenland)','\"Freshness characterizes the nose: green pear, ivy leaves and citrus notes play on nose and palate. This is light footed, easy drinking and charming. Drink soon while flavors are fresh.\"','Austria','Burgenland',NULL,NULL,'Fuchs',NULL),(70,38,7,88,22.00,'GÃ¥rd 2014 Grand Klasse Reserve Lawrence Vineyards Viognier (Columbia Valley (WA))','\"Barrel notes are prominent, with aromas of Creamsicle and baking spice. The palate is broad and dry with stone-fruit and barrel flavors. It provides intrigue but the wood seems to get in the way at times.\"','US','Washington','Columbia Valley (WA)','Columbia Valley','GÃ¥rd','Grand Klasse Reserve Lawrence Vineyards'),(71,17,2,88,20.00,'Henry Fessy 2015  JuliÃ©nas','\"This is a dense wine, packed with both tannins and acidity. It brings out the ageworthiness of this appellation with its rich potential and dark mineral texture. Drink this concentrated cru wine from 2018.\"','France','Beaujolais','JuliÃ©nas',NULL,'Henry Fessy',NULL),(72,17,2,88,18.00,'Henry Fessy 2015  RÃ©gniÃ©','\"The wine comes from one of the cru estates followed by this negociant house. It is a light, ripe and fruity wine. With its attractive red-berry flavors, finished with crisp acidity, it is accessible and ready to drink.\"','France','Beaujolais','RÃ©gniÃ©',NULL,'Henry Fessy',NULL),(73,21,1,88,30.00,'Serpaia di Endrizzi 2010 Dono Riserva  (Morellino di Scansano)','\"Forest floor, menthol, espresso, cranberry and pressed violet aromas take shape in the glass. The lean linear palate shows dried sour cherry, licorice and coffee bean alongside assertive close-grained tannins. Even though the tannins are still firm, drink sooner rather than later to capture the remaining fruit.\"','Italy','Tuscany','Morellino di Scansano',NULL,'Serpaia di Endrizzi','Dono Riserva'),(74,25,5,88,75.00,'Soquel Vineyards 2013 Intreccio Library Selection Red (Napa Valley)','\"This blends 20% each of all five red-Bordeaux varieties, showing grapy, plummy flavor that\'s juicy and soft on the palate. With a core of tobacco, tar and graphite, it complements the fruity with the savory, ending simply and elegantly.\"','US','California','Napa Valley','Napa','Soquel Vineyards','Intreccio Library Selection');
/*!40000 ALTER TABLE `reviews` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`localhost`*/ /*!50003 TRIGGER insert_avg AFTER INSERT ON reviews FOR EACH ROW
BEGIN
	UPDATE wines w
    INNER JOIN (SELECT wine_id, AVG(rating) AS avgrating 
    FROM reviews GROUP BY wine_id) r ON w.id = r.wine_id
    SET w.avgrating = r.avgrating;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`localhost`*/ /*!50003 TRIGGER insert_country AFTER INSERT ON reviews FOR EACH ROW 
BEGIN
	UPDATE wines w
    INNER JOIN (
		SELECT wine_id, country, COUNT(country) AS countrycount FROM reviews 
        GROUP BY country ORDER BY countrycount DESC LIMIT 1
    ) r ON w.id = r.wine_id AND r.country IS NOT NULL
    SET w.country = r.country;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`localhost`*/ /*!50003 TRIGGER insert_lowprice AFTER INSERT ON reviews FOR EACH ROW 
BEGIN
	UPDATE wines w
    INNER JOIN (
		SELECT wine_id, price, MIN(price) AS minprice FROM reviews GROUP BY wine_id
    ) r ON w.id = r.wine_id AND r.price IS NOT NULL
    SET w.price_low = r.minprice;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`localhost`*/ /*!50003 TRIGGER insert_highprice AFTER INSERT ON reviews FOR EACH ROW 
BEGIN
	UPDATE wines w
    INNER JOIN (
		SELECT wine_id, price, MAX(price) AS maxprice FROM reviews GROUP BY wine_id
    ) r ON w.id = r.wine_id AND r.price IS NOT NULL
    SET w.price_high = r.maxprice;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2018-03-27 21:37:52
